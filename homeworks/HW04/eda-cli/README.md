
# eda-cli — CSV EDA CLI & FastAPI Service

`eda-cli` — инструмент для базового анализа CSV-датасетов, доступный
как **CLI-приложение** и как **HTTP-сервис (FastAPI)**.

Проект демонстрирует:
- работу с табличными данными (pandas);
- проектирование EDA-ядра;
- упаковку логики в CLI;
- обёртывание существующего кода в REST API;
- базовую инженерную культуру (структура проекта, тесты, документация).

---

## Возможности

### CLI
- быстрый обзор датасета;
- генерация EDA-отчёта (Markdown + CSV + графики);
- настройка параметров отчёта;
- эвристики качества данных.

### HTTP API (FastAPI)
- REST-эндпоинты для оценки качества CSV;
- загрузка файлов через HTTP;
- интерактивная документация (Swagger);
- повторное использование EDA-ядра без дублирования логики.

---

## Стек

- Python 3.11+
- pandas
- FastAPI
- uvicorn
- pytest
- uv (менеджер окружений и зависимостей)

---

## Установка

```bash
uv sync
````

Команда создаёт виртуальное окружение и устанавливает зависимости.

---

## CLI: использование

### Быстрый обзор датасета

```bash
uv run eda-cli overview data/example.csv
```

### Полный EDA-отчёт

```bash
uv run eda-cli report data/example.csv --out-dir reports
```

В результате формируются:

* Markdown-отчёт;
* CSV-сводки по колонкам и пропускам;
* визуализации распределений и корреляций.

---

## HTTP API (FastAPI)

### Запуск сервиса

```bash
uv run uvicorn eda_cli.api:app --reload --port 8000
```

Swagger UI:

```
http://127.0.0.1:8000/docs
```

---

### Эндпоинты

#### GET `/health`

Проверка доступности сервиса.

```json
{ "status": "ok" }
```

---

#### POST `/quality-from-csv`

Оценка качества датасета по CSV-файлу.

Возвращает:

* `quality_score`
* `ok_for_model`
* `latency_ms`
* набор флагов качества

---

#### POST `/quality-flags-from-csv`

Возвращает **полный набор quality-флагов**, вычисленных на основе
эвристик EDA-ядра.

```json
{
  "flags": {
    "too_few_rows": false,
    "too_many_missing": true,
    "has_constant_columns": false
  }
}
```

---

## Архитектура

* `core.py` — EDA-ядро (чистая логика, без I/O);
* `cli.py` — CLI-обёртка над ядром;
* `api.py` — HTTP-обёртка над тем же ядром;
* CLI и API используют **один и тот же код анализа**.

Такой подход позволяет:

* переиспользовать логику;
* легко расширять функциональность;
* добавлять новые интерфейсы (API, сервисы, пайплайны).

---

## Тесты

```bash
uv run pytest -q
```

---

## Назначение проекта

Проект выполнен в учебных целях и демонстрирует навыки:

* анализа данных;
* проектирования Python-пакетов;
* разработки CLI-инструментов;
* создания REST API поверх существующего кода.





